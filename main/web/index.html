<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DualKey ÊéßÂà∂Èù¢Êùø</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 data-i18n="title">DualKey ÊéßÂà∂Èù¢Êùø</h1>
            <div class="header-controls">
                <div class="language-switch">
                    <button id="languageToggle" class="lang-btn">
                        <span class="lang-text">EN</span>
                        <span class="lang-icon">üåê</span>
                    </button>
                </div>
                <div class="header-status">
                    <div class="websocket-status">
                        <span class="status-label" data-i18n="connectionStatus">ËøûÊé•Áä∂ÊÄÅ:</span>
                        <span class="status-dot online"></span>
                        <span class="status-text" id="ws-status" data-i18n="online">Âú®Á∫ø</span>
                    </div>
                    <div class="last-update-status">
                        <span class="status-label" data-i18n="lastUpdate">ÊúÄÂêéÊõ¥Êñ∞:</span>
                        <span class="update-time" id="lastUpdate">--:--:--</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <!-- DualKey Ëá™Ë∫´Â±ûÊÄß -->
            <section class="dualkey-section">
                <h2 data-i18n="dualkeyProperties">DualKey Â±ûÊÄß</h2>
                <div class="dualkey-grid">
                    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
                    <div class="card key-status">
                        <h3 data-i18n="basicInfo">Âü∫Á°Ä‰ø°ÊÅØ</h3>
                        <div class="key-container">
                            <div class="key left-key">
                                <div class="key-indicator active"></div>
                                <span data-i18n="leftKey">Â∑¶ÈîÆ</span>
                            </div>
                            <div class="key right-key">
                                <div class="key-indicator"></div>
                                <span data-i18n="rightKey">Âè≥ÈîÆ</span>
                            </div>
                        </div>
                        
                        <!-- RGBÊéßÂà∂ -->
                        <div class="rgb-picker">
                            <div class="color-input">
                                <label for="leftKeyColor" data-i18n="leftKeyColor">Â∑¶ÈîÆÈ¢úËâ≤</label>
                                <input type="color" id="leftKeyColor" value="#ff0000" title="Â∑¶ÈîÆÈ¢úËâ≤ÈÄâÊã©" aria-label="Â∑¶ÈîÆÈ¢úËâ≤ÈÄâÊã©">
                            </div>
                            <div class="color-input">
                                <label for="rightKeyColor" data-i18n="rightKeyColor">Âè≥ÈîÆÈ¢úËâ≤</label>
                                <input type="color" id="rightKeyColor" value="#00ff00" title="Âè≥ÈîÆÈ¢úËâ≤ÈÄâÊã©" aria-label="Âè≥ÈîÆÈ¢úËâ≤ÈÄâÊã©">
                            </div>
                        </div>
                        
                        <!-- Êã®Á†ÅÂºÄÂÖ≥‰ΩçÁΩÆ -->
                        <div class="dip-switch-section">
                            <h4 data-i18n="dipSwitchPosition">Êã®Á†ÅÂºÄÂÖ≥‰ΩçÁΩÆ</h4>
                            <div class="single-switch-container">
                                <div class="single-switch">
                                    <div class="dip-switch-slider"></div>
                                </div>
                                <div class="switch-labels">
                                    <span class="switch-label left" data-i18n="left">Â∑¶</span>
                                    <span class="switch-label center" data-i18n="center">‰∏≠</span>
                                    <span class="switch-label right" data-i18n="right">Âè≥</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ÁîµÈáè‰ø°ÊÅØ -->
                        <div class="battery-section">
                            <h4 data-i18n="batteryStatus">ÁîµÈáèÁä∂ÊÄÅ</h4>
                            <div class="battery-container">
                                <div class="battery-icon">
                                    <div class="battery-level" id="batteryLevelIndicator"></div>
                                </div>
                                <div class="battery-info">
                                    <span class="battery-percentage">75%</span>
                                    <span class="charging-status charging">ÂÖÖÁîµ‰∏≠</span>
                                </div>
                            </div>
                            <div class="voltage-info">
                                <div class="voltage-item">
                                    <span class="label" data-i18n="batteryVoltage">ÁîµÊ±†ÁîµÂéã:</span>
                                    <span class="value" id="batteryVoltage">3.7V</span>
                                </div>
                                <div class="voltage-item">
                                    <span class="label" data-i18n="usbVoltage">USBÁîµÂéã:</span>
                                    <span class="value" id="usbVoltage">5.0V</span>
                                </div>
                                <div class="voltage-item">
                                    <span class="label" data-i18n="switch1Value">Êã®Á†ÅÂºÄÂÖ≥1ÂÄº:</span>
                                    <span class="value" id="switch1Value">0mV</span>
                                </div>
                                <div class="voltage-item">
                                    <span class="label" data-i18n="switch2Value">Êã®Á†ÅÂºÄÂÖ≥2ÂÄº:</span>
                                    <span class="value" id="switch2Value">0mV</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- HIDËÆæÂ§áÁä∂ÊÄÅ -->
                    <div class="card hid-status">
                        <h3 data-i18n="hidDeviceStatus">HID ËÆæÂ§áÁä∂ÊÄÅ</h3>
                        <div class="status-item">
                            <span class="label" data-i18n="usbConnection">USBËøûÊé•:</span>
                            <span class="value" id="usbConnectionStatus" data-i18n="connected">Â∑≤ËøûÊé•</span>
                        </div>
                        <div class="status-item">
                            <span class="label" data-i18n="bluetoothConnection">ËìùÁâôËøûÊé•:</span>
                            <span class="value" id="bleConnectionStatus" data-i18n="notConnected">Êú™ËøûÊé•</span>
                        </div>
                        <div class="status-item">
                            <span class="label" data-i18n="deviceName">ËÆæÂ§áÂêçÁß∞:</span>
                            <span class="value" id="deviceName">Chain DualKey</span>
                        </div>
                        <div class="status-item">
                            <span class="label" data-i18n="deviceType">ËÆæÂ§áÁ±ªÂûã:</span>
                            <span class="value" id="deviceType">HID Keyboard</span>
                        </div>
                        <div class="hid-mapping-control">
                            <label for="hidMappingSelect" class="label" data-i18n="keyMapping">ÊåâÈîÆÊò†Â∞Ñ:</label>
                            <select id="hidMappingSelect" class="mapping-select" title="ÊåâÈîÆÊò†Â∞ÑÈÄâÊã©" aria-label="ÊåâÈîÆÊò†Â∞ÑÈÄâÊã©">
                                <option value="0" data-i18n="copyPaste">Â§çÂà∂Á≤òË¥¥ (Ctrl+C/V)</option>
                                <option value="1" data-i18n="copyPasteCmd">Â§çÂà∂Á≤òË¥¥ (Cmd+C/V)</option>
                                <option value="2" data-i18n="undoRedo">Êí§ÈîÄÈáçÂÅö (Ctrl+Z/Y)</option>
                                <option value="3" data-i18n="undoRedoCmd">Êí§ÈîÄÈáçÂÅö (Cmd+Z/Y)</option>
                                <option value="4" data-i18n="undoRedoCmdShift">Êí§ÈîÄÈáçÂÅö (Cmd+Z / Cmd+Shift+Z)</option>
                                <option value="5" data-i18n="tabSwitch">Ê†áÁ≠æÈ°µ (Ctrl+Tab / Ctrl+Shift+Tab)</option>
                                <option value="6" data-i18n="windowSwitch">Á™óÂè£ÂàáÊç¢ (Alt/Tab)</option>
                                <option value="7" data-i18n="windowSwitchCmd">Á™óÂè£ÂàáÊç¢ (Cmd/Tab)</option>
                                <option value="8" data-i18n="zoom">Áº©Êîæ (Ctrl+Plus/Minus)</option>
                                <option value="9" data-i18n="zoomCmd">Áº©Êîæ (Cmd+Plus/Minus)</option>
                                <option value="10" selected data-i18n="pageUpDown">ÁøªÈ°µ (Page Up/Down)</option>
                                <option value="11" data-i18n="volumeControl">Èü≥ÈáèÊéßÂà∂ (Vol+/-)</option>
                                <option value="12" data-i18n="mediaControl">Â™í‰ΩìÊéßÂà∂ (Prev/Next)</option>
                                <option value="13" data-i18n="mediaControlPlayPause">Â™í‰ΩìÊéßÂà∂ (PlayPause/Stop)</option>
                                <option value="14" data-i18n="homeEnd">HOMEÊåâÈîÆ (Home/End)</option>
                                <option value="15" data-i18n="upDown">ÊñπÂêëÈîÆ (Up/Down)</option>
                                <option value="16" data-i18n="leftRight">ÊñπÂêëÈîÆ (Left/Right)</option>
                            </select>
                            <button class="btn btn-secondary" id="applyMappingBtn" data-i18n="apply">Â∫îÁî®</button>
                        </div>
                        <div class="mapping-switches">
                            <span class="label" data-i18n="mappingSwitch">Êò†Â∞ÑÂºÄÂÖ≥:</span>
                            <div class="switch-group">
                                <div class="switch-item">
                                    <label class="switch" for="usbMappingSwitch">
                                        <input type="checkbox" id="usbMappingSwitch" checked title="USBÊò†Â∞ÑÂºÄÂÖ≥" aria-label="USBÊò†Â∞ÑÂºÄÂÖ≥">
                                        <span class="switch-slider round"></span>
                                    </label>
                                    <span class="switch-label" data-i18n="usbMapping">USBÊò†Â∞Ñ</span>
                                </div>
                                <div class="switch-item">
                                    <label class="switch" for="bleMappingSwitch">
                                        <input type="checkbox" id="bleMappingSwitch" checked title="ËìùÁâôÊò†Â∞ÑÂºÄÂÖ≥" aria-label="ËìùÁâôÊò†Â∞ÑÂºÄÂÖ≥">
                                        <span class="switch-slider round"></span>
                                    </label>
                                    <span class="switch-label" data-i18n="bluetoothMapping">ËìùÁâôÊò†Â∞Ñ</span>
                                </div>
                            </div>
                        </div>
                        <div class="current-mapping-status">
                            <span class="label" data-i18n="currentMappingStatus">ÂΩìÂâçÊò†Â∞ÑÁä∂ÊÄÅ:</span>
                            <div class="mapping-status-display">
                                <div class="mapping-info">
                                    <span class="mapping-name" id="currentMappingName" data-i18n="pageUpDown">ÁøªÈ°µ (Page Up/Down)</span>
                                    <div class="key-mapping-detail">
                                        <span class="key-detail" id="usbMappingDetail" data-i18n="enabled">USB mode: Â∑≤ÂêØÁî®</span>
                                        <span class="key-detail" id="bleMappingDetail" data-i18n="enabled">BLE mode: Â∑≤ÂêØÁî®</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ble-actions">
                            <button class="btn btn-primary" id="bleToggleAdvBtn" data-i18n="startBroadcast">ÂÖ≥Èó≠ÂπøÊí≠</button>
                            <button class="btn btn-secondary" id="blePairingBtn" disabled data-i18n-title="pairingTip" data-i18n="pairingMode">ÈÖçÂØπÊ®°Âºè</button>
                        </div>
                    </div>



                    <!-- WIFI‰ø°ÊÅØ -->
                    <div class="card battery-status">
                        <h3 data-i18n="wifiInfo">WIFI‰ø°ÊÅØ</h3>
                        <div class="wifi-info">
                            <div class="wifi-item">
                                <span class="label" data-i18n="ssid">SSID:</span>
                                <span class="value" id="wifiSSID">--</span>
                            </div>
                            <div class="wifi-item">
                                <span class="label" data-i18n="ipAddress">IPÂú∞ÂùÄ:</span>
                                <span class="value" id="wifiIP">--</span>
                            </div>
                            <div class="wifi-item">
                                <span class="label" data-i18n="signalStrength">‰ø°Âè∑Âº∫Â∫¶:</span>
                                <span class="value" id="wifiRSSI">--</span>
                            </div>
                            <div class="wifi-item">
                                <span class="label" data-i18n="wifiStatus">ËøûÊé•Áä∂ÊÄÅ:</span>
                                <span class="value" id="wifiStatus" data-i18n="notConnected">Êú™ËøûÊé•</span>
                            </div>
                        </div>
                        
                        <!-- WIFIÈÖçÁΩÆ -->
                        <div class="wifi-config">
                            <h4 data-i18n="wifiConfig">WIFIÈÖçÁΩÆ(ÂèåÈîÆÈïøÊåâÈáçÁΩÆ)</h4>
                            <div class="wifi-config-form">
                                <div class="form-group">
                                    <label for="wifiConfigSSID" data-i18n="ssid">SSID:</label>
                                    <input type="text" id="wifiConfigSSID" class="wifi-input" placeholder="ËæìÂÖ•WiFiÂêçÁß∞" title="WiFiÁΩëÁªúÂêçÁß∞" aria-label="WiFiÁΩëÁªúÂêçÁß∞">
                                </div>
                                <div class="form-group">
                                    <label for="wifiConfigPassword" data-i18n="password">ÂØÜÁ†Å:</label>
                                    <input type="password" id="wifiConfigPassword" class="wifi-input" placeholder="ËæìÂÖ•WiFiÂØÜÁ†Å" title="WiFiÁΩëÁªúÂØÜÁ†Å" aria-label="WiFiÁΩëÁªúÂØÜÁ†Å">
                                </div>
                                <div class="form-group">
                                    <label class="switch" for="wifiStaticIPSwitch">
                                        <input type="checkbox" id="wifiStaticIPSwitch" title="‰ΩøÁî®ÈùôÊÄÅIPÂú∞ÂùÄ" aria-label="‰ΩøÁî®ÈùôÊÄÅIPÂú∞ÂùÄ">
                                        <span class="switch-slider round"></span>
                                    </label>
                                    <span class="switch-label" data-i18n="useStaticIP">‰ΩøÁî®ÈùôÊÄÅIP</span>
                                </div>
                                <div id="wifiStaticIPConfig" class="static-ip-config hidden">
                                    <div class="form-group">
                                        <label for="wifiStaticIP" data-i18n="ipAddress">IPÂú∞ÂùÄ:</label>
                                        <input type="text" id="wifiStaticIP" class="wifi-input" placeholder="192.168.1.100" title="ÈùôÊÄÅIPÂú∞ÂùÄ" aria-label="ÈùôÊÄÅIPÂú∞ÂùÄ">
                                    </div>
                                    <div class="form-group">
                                        <label for="wifiStaticNetmask" data-i18n="subnetMask">Â≠êÁΩëÊé©Á†Å:</label>
                                        <input type="text" id="wifiStaticNetmask" class="wifi-input" placeholder="255.255.255.0" title="Â≠êÁΩëÊé©Á†Å" aria-label="Â≠êÁΩëÊé©Á†Å">
                                    </div>
                                    <div class="form-group">
                                        <label for="wifiStaticGateway" data-i18n="gateway">ÁΩëÂÖ≥:</label>
                                        <input type="text" id="wifiStaticGateway" class="wifi-input" placeholder="192.168.1.1" title="ÁΩëÂÖ≥Âú∞ÂùÄ" aria-label="ÁΩëÂÖ≥Âú∞ÂùÄ">
                                    </div>
                                </div>
                                <div class="wifi-config-actions">
                                    <button class="btn btn-primary" id="wifiConfigApplyBtn" data-i18n="applyConfig">Â∫îÁî®ÈÖçÁΩÆ</button>
                                    <button class="btn btn-secondary" id="wifiConfigResetBtn" data-i18n="resetConfig">ÈáçÁΩÆÈÖçÁΩÆ</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Chain Bus Â±ûÊÄß -->
            <section class="chainbus-section">
                <h2 data-i18n="chainBusProperties">Chain Bus Â±ûÊÄß</h2>
                
                <!-- Chain Bus ÂèØËßÜÂåñ -->
                <div class="chain-bus-visualization">
                    <div class="bus-container" id="busVisualization">
                        <!-- Â∑¶‰æßËÆæÂ§áÂå∫Âüü -->
                        <div class="bus-side left-bus-side" id="leftBusVisualization">
                            <div class="bus-label" data-i18n="leftBus">Â∑¶ Bus</div>
                            <div class="bus-devices" id="leftBusDevicesVisual">
                                <!-- Â∑¶‰æßËÆæÂ§áÂ∞ÜÂä®ÊÄÅÊèíÂÖ• -->
                            </div>
                        </div>
                        
                        <!-- ‰∏≠ÂøÉ Chain DualKey -->
                        <div class="central-device">
                            <img src="Chain_DualKey.png" alt="Chain DualKey" class="central-device-image">
                            <div class="device-label">Chain DualKey</div>
                        </div>
                        
                        <!-- Âè≥‰æßËÆæÂ§áÂå∫Âüü -->
                        <div class="bus-side right-bus-side" id="rightBusVisualization">
                            <div class="bus-label" data-i18n="rightBus">Âè≥ Bus</div>
                            <div class="bus-devices" id="rightBusDevicesVisual">
                                <!-- Âè≥‰æßËÆæÂ§áÂ∞ÜÂä®ÊÄÅÊèíÂÖ• -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chainbus-grid">
                    <!-- Â∑¶BusÁä∂ÊÄÅ -->
                    <div class="card bus-status left-bus">
                        <h3 data-i18n="leftBus">Â∑¶ Bus Áä∂ÊÄÅ</h3>
                        <div class="bus-info">
                            <div class="device-count">
                                <span class="label" data-i18n="deviceCount">ËÆæÂ§áÊï∞Èáè:</span>
                                <span class="value" id="leftBusDeviceCount">0</span>
                            </div>
                            <div class="refresh-time">
                                <span class="label" data-i18n="refreshTime">Âà∑Êñ∞Êó∂Èó¥:</span>
                                <span class="value" id="leftBusRefreshTime">--:--:--</span>
                            </div>
                        </div>
                        
                        <!-- Âä®ÊÄÅËÆæÂ§áÂàóË°® -->
                        <div class="device-list">
                            <h4 data-i18n="deviceList">ËÆæÂ§áÂàóË°®</h4>
                            <div class="device-container" id="leftBusDevices">
                                <!-- ËÆæÂ§áÂç°ÁâáÂ∞ÜÂä®ÊÄÅÊèíÂÖ• -->
                            </div>
                        </div>
                        
                        <div class="bus-rgb">
                            <label for="leftBusColorPicker" data-i18n="busRGB">ÊÄªÁ∫øRGB:</label>
                            <input type="color" class="bus-color-picker" id="leftBusColorPicker" value="#000000" title="Â∑¶ÊÄªÁ∫øRGBÈ¢úËâ≤ÈÄâÊã©" aria-label="Â∑¶ÊÄªÁ∫øRGBÈ¢úËâ≤ÈÄâÊã©">
                            <button class="btn btn-secondary bus-rgb-btn" id="leftBusRgbBtn" data-i18n="set">ËÆæÁΩÆ</button>
                        </div>
                        
                        <div class="bus-enumerate">
                            <button class="btn btn-primary" id="enumerateLeftBus" data-i18n="refreshBusEnumeration">Âà∑Êñ∞BUSÊûö‰∏æËÆæÂ§á</button>
                        </div>
                    </div>

                    <!-- Âè≥BusÁä∂ÊÄÅ -->
                    <div class="card bus-status right-bus">
                        <h3 data-i18n="rightBus">Âè≥ Bus Áä∂ÊÄÅ</h3>
                        <div class="bus-info">
                            <div class="device-count">
                                <span class="label" data-i18n="deviceCount">ËÆæÂ§áÊï∞Èáè:</span>
                                <span class="value" id="rightBusDeviceCount">0</span>
                            </div>
                            <div class="refresh-time">
                                <span class="label" data-i18n="refreshTime">Âà∑Êñ∞Êó∂Èó¥:</span>
                                <span class="value" id="rightBusRefreshTime">--:--:--</span>
                            </div>
                        </div>
                        
                        <!-- Âä®ÊÄÅËÆæÂ§áÂàóË°® -->
                        <div class="device-list">
                            <h4 data-i18n="deviceList">ËÆæÂ§áÂàóË°®</h4>
                            <div class="device-container" id="rightBusDevices">
                                <!-- ËÆæÂ§áÂç°ÁâáÂ∞ÜÂä®ÊÄÅÊèíÂÖ• -->
                            </div>
                        </div>
                        
                        <div class="bus-rgb">
                            <label for="rightBusColorPicker" data-i18n="busRGB">ÊÄªÁ∫øRGB:</label>
                            <input type="color" class="bus-color-picker" id="rightBusColorPicker" value="#000000" title="Âè≥ÊÄªÁ∫øRGBÈ¢úËâ≤ÈÄâÊã©" aria-label="Âè≥ÊÄªÁ∫øRGBÈ¢úËâ≤ÈÄâÊã©">
                            <button class="btn btn-secondary bus-rgb-btn" id="rightBusRgbBtn" data-i18n="set">ËÆæÁΩÆ</button>
                        </div>
                        
                        <div class="bus-enumerate">
                            <button class="btn btn-primary" id="enumerateRightBus" data-i18n="refreshBusEnumeration">Âà∑Êñ∞BUSÊûö‰∏æËÆæÂ§á</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

    <script src="script.js"></script>
</body>
</html>

